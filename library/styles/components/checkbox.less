.by-checkbox {
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  color: @content-color;

  &-copy {
    position: relative;
    display: inline-block;
    margin-right: @base-gap * 4;
    border: @border-width solid @border-color;
    border-radius: @border-radius - .125rem;
    transition: all .2s ease-in-out;

    &-checked {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      width: inherit;
      height: inherit;
      border: @border-width solid @primary-color;
      border-radius: inherit;
      transition: inherit;
    }

    &-checked::after {
      content: '';
      display: block;
      border: @border-width * 2 solid @background-color;
      border-left: 0;
      border-top: 0;
      width: 32%;
      height: 66%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(45deg) scale(0);
      transition: inherit;
    }

    &-indeterminate {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: inherit;
      height: inherit;
      border-radius: inherit;
      transition: inherit;
      background-color: @primary-color;
    }

    &-indeterminate::after {
      content: '';
      width: 64%;
      height: @border-width * 2;
      background-color: @background-color;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: inherit;
    }

    input[type="checkbox"] {
      display: none;
    }
  }

  &-copy:hover,
  &-copy:focus {
    border-color: @primary-color;
  }

  &-size-default {
    font-size: @basic-fsize;

    .by-checkbox-copy {
      width: @default-height / 2;
      height: @default-height / 2;
    }
  }

  &-size-small {
    font-size: @basic-fsize - 0.125rem;

    .by-checkbox-copy {
      width: @default-height / 2 - .25rem;
      height: @default-height / 2 - .25rem;
    }
  }

  &-size-large {
    font-size: @basic-fsize + .125rem;

    .by-checkbox-copy {
      width: @default-height / 2 + .25rem;
      height: @default-height / 2 + .25rem;
    }
  }

  &-border {
    border: @border-width solid @border-color;
    border-radius: @border-radius;
  }

  &-border-default {
    padding: @base-gap * 3 @base-gap * 6;
  }

  &-border-large {
    padding: @base-gap * 4 @base-gap * 6;
  }

  &-border-small {
    padding: @base-gap * 2 @base-gap * 6;
  }

  &-checked {
    border-color: @primary-color;

    .by-checkbox-copy {
      border-color: @primary-color;
      
      &-checked {
        background-color: @primary-color;
        transform: translate(-50%, -50%) scale(1);
      }

      &-checked::after {
        transform: translate(-50%, -50%) rotate(45deg) scale(1);
      }
    }
  }

  &-disabled {
    cursor: not-allowed;
    color: @disabled-color;
    border-color: @border-color;

    .by-checkbox-copy {
      background-color: @divider-color;
      border-color: @border-color;

      &-checked {
        background-color: inherit;
        border: inherit;
      }

      &-checked::after {
        cursor: not-allowed;
        background-color: inherit;
        border-color: @disabled-color;
      }

      &-indeterminate {
        background-color: inherit;
      }
  
      &-indeterminate::after {
        background-color: @disabled-color;
      }
    }
  }
}